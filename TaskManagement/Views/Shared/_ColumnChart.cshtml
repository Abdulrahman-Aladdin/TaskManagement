@model TaskManagement.Models.ChartAttributes

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<script src="https://code.highcharts.com/themes/adaptive.js"></script>

<figure class="highcharts-figure">
    <div id="@Model.ChartId"></div>
</figure>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(function () {
        $.getJSON('@Model.DataUrl', function (data) {
            var Xs = [];
            var Ys = [];

            $.each(data, function (i, item) {
                Xs.push(item.X);
                Ys.push(item.Y);
            });

            Highcharts.chart('@Model.ChartId', {
                chart: {
                    type: 'column'
                },
                title: {
                    text: '@Model.ChartTitle'
                },
                subtitle: {
                    text: 'Example from Abdelrahman'
                },
                xAxis: {
                    categories: Xs,
                    crosshair: true,
                    accessibility: {
                        description: '@Model.XAxisTitle'
                    }
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '@Model.YAxisTitle'
                    }
                },
                tooltip: {
                    valueSuffix: ' (Hrs)'
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [
                    {
                        name: '@Model.YAxisTitle',
                        data: Ys
                    }
                ]
            });
        });
    });
</script>


<style>
    * {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
    }

    .highcharts-figure,
    .highcharts-data-table table {
        min-width: 310px;
        max-width: 800px;
        margin: 1em auto;
    }

    #container {
        height: 400px;
    }

    .highcharts-data-table table {
        font-family: Verdana, sans-serif;
        border-collapse: collapse;
        border: 1px solid var(--highcharts-neutral-color-10, #e6e6e6);
        margin: 10px auto;
        text-align: center;
        width: 100%;
        max-width: 500px;
    }

    .highcharts-data-table caption {
        padding: 1em 0;
        font-size: 1.2em;
        color: var(--highcharts-neutral-color-60, #666);
    }

    .highcharts-data-table th {
        font-weight: 600;
        padding: 0.5em;
    }

    .highcharts-data-table td,
    .highcharts-data-table th,
    .highcharts-data-table caption {
        padding: 0.5em;
    }

    .highcharts-data-table thead tr,
    .highcharts-data-table tbody tr:nth-child(even) {
        background: var(--highcharts-neutral-color-3, #f7f7f7);
    }

    .highcharts-description {
        margin: 0.3rem 10px;
    }
</style>